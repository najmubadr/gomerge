# gomerge

`gomerge` — утилита командной строки для объединения файлов с расширением `.go` из указанной директории в единый файл или архив. Утилита написана на языке Go и следует философии Unix — простота использования, мощные функции и гибкость в настройках. 


## Возможности
- Рекурсивный обход директорий и объединение файлов `.go` в один файл.
- Возможность сохранить результат как один файл или архив в формате `.zip`.
- Кастомизация разделителей между именами директорий в итоговом файле.
- Поддержка задания кастомного имени выходного файла или архива.
- Фильтрация и игнорирование пустых файлов.
- Поддержка работы как с одной директорией, так и с рекурсивным обходом всех вложенных директорий.

## Установка

### 1. Сборка с помощью Go

Склонируйте репозиторий и соберите проект с помощью команды:

```bash
git clone https://github.com/najmubadr/gomerge.git
cd gomerge
go build -o gomerge main.go
```
### 2. Установка на разных операционных системах

#### Linux / macOS
Для установки утилиты в системную директорию (например, /usr/bin), выполните:

```bash
sudo mv gomerge /usr/bin/
```
Это позволит запускать gomerge из любой директории в системе.

#### Windows
На Windows вы можете скопировать скомпилированный бинарный файл в директорию, которая указана в переменной среды PATH, например:
```bash
move gomerge.exe C:\Windows\System32\
```
Или добавьте директорию с бинарным файлом в PATH, чтобы запускать его из любой папки.

## Автоматизированная сборка и установка
#### Linux / MacOS
Для удобной сборки вы можете использовать Makefile:
- Собрать проект: `make build`
- Установить бинарник: `make install`

#### Windows
Для сборки на Windows используйте Batch-скрипт:
- Собрать проект: `build.bat build`
- Установить: `build.bat install`

# Использование
Основные флаги и опции:
```bash
gomerge [options] <path>
```
## Флаги
- `-r`: рекурсивный обход директорий. Если передан, результат сохраняется в архив zip.
- `-o <path>`: путь для сохранения выходного файла или архива (по умолчанию текущая директория).
- `-s <separator>`: кастомный разделитель для имен директорий в итоговом файле (по умолчанию _).
- `-n <name>`: задание кастомного имени для выходного файла или архива.

## Примеры использования
1. Объединить файлы `.go` указанной директории:
```bash
gomerge .
```
2. Рекурсивно обойти директории объединить файлы .go и сохранить в zip-архив:
```bash
gomerge -r .
```
3. Использовать кастомный разделитель директорий и сохранить в указанную директорию:
```bash
gomerge -s "::" -o ./output .
```
4. Задать имя для выходного файла:
```bash
gomerge -n my_combined_file .
```

## Лицензия
Этот проект распространяется по лицензии MIT. См. файл LICENSE для подробностей.
